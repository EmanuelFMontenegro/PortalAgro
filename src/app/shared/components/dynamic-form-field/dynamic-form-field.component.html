<div class="FullForm-control" [formGroup]="group">
    <ng-container *ngIf="field && group.contains(field.name)">
      <label class="FormLabel" [for]="field.name">{{ field.label }}</label>
      
      <ng-container [ngSwitch]="field.type">
        <!-- Input text -->
        <input *ngSwitchCase="'text'"
          class="FormInput"
          [id]="field.name"
          [formControlName]="field.name"
          [type]="field.type"
          [placeholder]="field.placeholder || ''"
          [attr.maxlength]="field.validations?.maxLength"
        >

        <!-- Input number -->
        <input *ngSwitchCase="'number'"
          class="FormInput"
          [id]="field.name"
          [formControlName]="field.name"
          type="number"
          [placeholder]="field.placeholder || ''"
          [attr.min]="field.validations?.min"
          [attr.max]="field.validations?.max"
        >

        <!-- Select -->
        <select *ngSwitchCase="'select'"
          class="FormInput"
          [id]="field.name"
          [formControlName]="field.name">
          <option value="">Seleccione una opci√≥n</option>
          <option *ngFor="let option of field.options" [value]="option.id">
            {{ option.name }}
          </option>
        </select>

        <!-- Textarea -->
        <textarea *ngSwitchCase="'textarea'"
          class="FormTextarea"
          [id]="field.name"
          [formControlName]="field.name"
          [placeholder]="field.placeholder || ''"
          [attr.maxlength]="field.validations?.maxLength"
        ></textarea>
      </ng-container>

      <!-- Validation messages -->
      <mat-error *ngIf="group.get(field.name)?.touched && group.get(field.name)?.invalid">
        <span *ngIf="group.get(field.name)?.hasError('required')" class="error-message">
          Este campo es requerido.
        </span>
        <span *ngIf="group.get(field.name)?.hasError('maxlength')" class="error-message">
          El campo no puede superar los {{field.validations?.maxLength}} caracteres.
        </span>
        <span *ngIf="group.get(field.name)?.hasError('max')" class="error-message">
          El valor no puede superar {{field.validations?.max}}.
        </span>
        <span *ngIf="group.get(field.name)?.hasError('min')" class="error-message">
          El valor no puede ser menor a {{field.validations?.min}}.
        </span>
      </mat-error>
    </ng-container>
  </div>