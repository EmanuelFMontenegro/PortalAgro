<div class="container">
  <h2>Planificación de Rutas</h2>

  <div class="map-table-container">
    <!-- Columna izquierda: Menús desplegables -->
    <div class="menu-container">
      <!-- Menú desplegable para la lista de servicios -->
      <mat-accordion>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>Lista de Servicios</mat-panel-title>
          </mat-expansion-panel-header>
          <table mat-table [dataSource]="servicios" class="mat-elevation-z8" *ngIf="servicios.length > 0">
            <!-- Columnas de la tabla -->
            <ng-container matColumnDef="nro">
              <th mat-header-cell *matHeaderCellDef>#</th>
              <td mat-cell *matCellDef="let servicio">{{ servicio.nro }}</td>
            </ng-container>
            <ng-container matColumnDef="productor">
              <th mat-header-cell *matHeaderCellDef>Productor</th>
              <td mat-cell *matCellDef="let servicio">{{ servicio.productor }}</td>
            </ng-container>
            <ng-container matColumnDef="localidad">
              <th mat-header-cell *matHeaderCellDef>Localidad</th>
              <td mat-cell *matCellDef="let servicio">{{ servicio.localidad }}</td>
            </ng-container>
            <ng-container matColumnDef="seleccionar">
              <th mat-header-cell *matHeaderCellDef>Seleccionar</th>
              <td mat-cell *matCellDef="let servicio">
                <mat-checkbox (change)="seleccionarServicio($event, servicio)">
                </mat-checkbox>
              </td>
            </ng-container>
            <!-- Filas de la tabla -->
            <tr mat-header-row *matHeaderRowDef="['nro', 'productor', 'localidad', 'seleccionar']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['nro', 'productor', 'localidad', 'seleccionar'];">
            </tr>
          </table>
          <p *ngIf="servicios.length === 0">No hay localidades disponibles para mostrar.</p>
        </mat-expansion-panel>
      </mat-accordion>

      <!-- Botones -->
      <div class="buttons">
        <button mat-raised-button color="primary" class="button_crear" (click)="crearRuta()">
          Crear Ruta
        </button>
      </div>
    </div>

    <!-- Columna derecha: Mapa -->
    <div id="map" class="map"></div>
  </div>
</div>
