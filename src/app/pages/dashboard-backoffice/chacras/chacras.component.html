<div class="container">
  <div class="titulo-perfil">
    <span >¡Bienvenido, Acá podrás gestionar, las chacras de los Productores</span>
  </div>
  <mat-card class="main-card">
    <div class="card user-card">
      <div class="user-content">
        <div class="avatar">
          <div class="avatar-circle">
            <mat-icon class="avatar-icon">person</mat-icon>
          </div>
        </div>
        <div class="titulo-perfil-avatar">
          <div class="titulo-welcome">
            <p class="email">Email: {{ userEmail }}</p>
          </div>
        </div>
      </div>
    <h2 class="titulo-chacra">Chacras</h2>
  </div>

  <div class="field-container">
    <mat-select class="field-input" placeholder="Filtrar por" (selectionChange)="aplicarFiltro($event)">
      <mat-option value="localidad">Localidad</mat-option>
      <mat-option value="productor">Productor</mat-option>
      <mat-option value="nombreChacra">Nombre de Chacra</mat-option>
      <mat-option value="hectareas">Hectáreas</mat-option>
    </mat-select>

    <!-- Input para rango de hectáreas -->
    <ng-container *ngIf="placeholderText === 'Buscar por Hectáreas'">
      <input class="field-input" matInput type="number" placeholder="Min" [(ngModel)]="minHectareas">
      <input class="field-input" matInput type="number" placeholder="Max" [(ngModel)]="maxHectareas">
    </ng-container>

    <!-- Input para productor -->
    <input *ngIf="placeholderText === 'Buscar por Productor'" class="field-input" matInput
      [placeholder]="placeholderText" [(ngModel)]="nombreProductor" >


    <!-- Input para nombre de chacra -->
    <input *ngIf="placeholderText === 'Buscar por Nombre de Chacra'" class="field-input" matInput
      placeholder="{{ placeholderText }}" [(ngModel)]="nombreChacra" >

    <!-- Mat-select para seleccionar localidad -->
    <mat-select *ngIf="placeholderText === 'Buscar por Localidad'" class="field-input"
      placeholder="Seleccionar Localidad" [(ngModel)]="Buscar">
      <mat-option *ngFor="let localidad of localidades" [value]="localidad.name">{{ localidad.name }}</mat-option>
    </mat-select>

    <!-- Botones para limpiar y filtrar -->
    <button mat-raised-button class="clear-button" (click)="limpiarTexto()">Limpiar
      <img src="assets/img/ink_eraser_FILL0_wght400_GRAD0_opsz24.svg"
        style="filter: invert(70%) sepia(60%) saturate(10000%) hue-rotate(130deg)" alt="IconoBorrar">
    </button>

    <button mat-raised-button class="active-button" (click)="activarFiltro()">Filtrar
      <img src="assets/img/filter_alt_FILL0_wght400_GRAD0_opsz24.svg"
        style="filter: invert(70%) sepia(60%) saturate(10000%) hue-rotate(130deg)" alt="IconoBorrar">
    </button>

    <button mat-raised-button class="nuevaChacra-button" (click)="BtnNuevaChacra()">Volver al Inicio
    </button>
  </div>

<div class="card-campos-section">
  <div class="campos-container">
    <div class="campo-card" *ngFor="let campo of campos">
      <img src="/assets/img/Chacra_{{ campo.id }}.png" alt="Campo {{ campo.id }}">
      <h3>{{ campo.name }}</h3>
      <p>
        <span class="campo-variable">Localidad:</span> {{ campo.address.location.name }}
        <img src="assets/img/location.svg" alt="Icono" class="icono_location">
      </p>
      <p><span class="campo-variable">Dirección:</span> {{ campo.address.address }}</p>
      <p><span class="campo-variable">Hectarias:</span> {{ campo.dimensions}}</p>
      <p><span class="campo-variable">Descripción:</span> {{ campo.observation }}</p>
      <!-- <p><span class="campo-variable">Dirección:</span> {{ campo.address.address }}</p> -->
      <button mat-raised-button class="ver-mas-button" (click)="verMas(campo)">Ver Más</button>
    </div>
  </div>
</div>
