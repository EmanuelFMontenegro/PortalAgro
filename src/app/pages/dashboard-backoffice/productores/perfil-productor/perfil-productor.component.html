<div class="mainStructure">
  <app-header-inner [title]="'Perfil'" [backButton]="true"></app-header-inner>
</div>



 

<ng-container *ngIf="!modoEdicion">
  <div class="profileContainer">
    <div class="profileContainer-personalData">
      <div class="profileContainer-personalData-title">Información Personal</div>
      <div class="profileContainer-personalData-content">
        <div class="profileContainer-personalData-content-item">
          <div class="profileContainer-personalData-content-item-title">Usuario</div>
          <div class="profileContainer-personalData-content-item-value">{{ email }}</div>
        </div>
        <div class="profileContainer-personalData-content-item">
          <div class="profileContainer-personalData-content-item-title">Nombre</div>
          <div class="profileContainer-personalData-content-item-value">{{ nombre }}</div>
        </div>
        <div class="profileContainer-personalData-content-item">
          <div class="profileContainer-personalData-content-item-title">Apellido</div>
          <div class="profileContainer-personalData-content-item-value">{{ apellido }}</div>
        </div>
        <div class="profileContainer-personalData-content-item">
          <div class="profileContainer-personalData-content-item-title">Localidad</div>
          <div class="profileContainer-personalData-content-item-value">{{ location }}</div>
        </div>
        <div class="profileContainer-personalData-content-item">
          <div class="profileContainer-personalData-content-item-title">DNI</div>
          <div class="profileContainer-personalData-content-item-value">{{ dni }}</div>
        </div>
        <div class="profileContainer-personalData-content-item">
          <div class="profileContainer-personalData-content-item-title">Contacto</div>
          <div class="profileContainer-personalData-content-item-value">{{ telefono }}</div>
        </div>
      </div>
    </div>
    <div class="profileContainer-aditionalData">
      <div class="profileContainer-aditionalData-title">Información Adicional</div>
      <div class="profileContainer-aditionalData-content"> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Consequuntur eveniet, illo assumenda, nihil nemo ad ab animi tenetur, dolorum nam quos quisquam. Commodi quidem a esse, amet minima ipsum iusto. </div>
    </div>
    <div class="FullForm-buttonsToRight">
      <button mat-button   class="secondary-button-custom size-48" type="button" (click)="activarEdicion(true)">Editar</button>
      <button  mat-raised-button appearance="outline"  class="primary-button-custom size-48"  (click)="btnVerMas(userId)">Ver Chacras</button>
  </div>
  </div>
</ng-container>   

<!-- VISTA PARA EDITAR EL PERFIL -->
<ng-container *ngIf="modoEdicion">
  <div class="profileContainer"> 
    <div class="profileContainer-personalData">
      <div class="profileContainer-personalData-title">Información Personal</div>
      <form class="FullForm" (ngSubmit)="actualizarPerfilUsuario()" [formGroup]="userDetailsForm">
        <div class="profileContainer-personalData-content">
          <div class="profileContainer-personalData-content-item margin-btm-0">
            <div class="FullForm-control margin-btm-0">
              <label class="FormLabel margin-btm-6" for="email">Usuario</label>
              <input class="FormInput" matInput [placeholder]="email" formControlName="email" id="email">
            </div>
          </div>
          <div class="profileContainer-personalData-content-item margin-btm-0">
            <div class="FullForm-control margin-btm-0">
              <label class="FormLabel margin-btm-6" for="nombre">Nombre</label>
              <input class="FormInput" matInput [placeholder]="nombre" formControlName="nombre" id="nombre">
            </div>
          </div>
          <div class="profileContainer-personalData-content-item margin-btm-0">
            <div class="FullForm-control margin-btm-0">
              <label class="FormLabel margin-btm-6" for="apellido">Apellido</label>
              <input class="FormInput" matInput [placeholder]="nombre" formControlName="apellido" id="apellido">
            </div>
          </div>
          <div class="profileContainer-personalData-content-item margin-btm-0">
            <div class="FullForm-control margin-btm-0">
              <label class="FormLabel margin-btm-6" for="localidad">Localidad</label>
              <mat-select style="height: 45px !important;"  class="FormInput"  formControlName="localidad" placeholder="{{ location ? location : 'Seleccionar Localidad' }}" (selectionChange)="onLocalidadSelectionChange($event.value)">
                <mat-option *ngFor="let loc of localidades" [value]="loc.name">
                  {{ loc.name }}
                </mat-option>
              </mat-select>
            </div>
          </div>
          <div class="profileContainer-personalData-content-item margin-btm-0">
            <div class="FullForm-control margin-btm-0">
              <label class="FormLabel margin-btm-6" for="dni">DNI / CUIT</label>
              <input class="FormInput" matInput [placeholder]="dni" formControlName="dni" id="dni">
            </div>
          </div>
          <div class="profileContainer-personalData-content-item margin-btm-0">
            <div class="FullForm-control margin-btm-0">
              <label class="FormLabel margin-btm-6" for="contacto">Contacto</label>
              <input class="FormInput" matInput [placeholder]="contacto" formControlName="contacto" id="contacto">
            </div>
          </div>
          <div class="profileContainer-personalData-content-item margin-btm-0">
            <div class="FullForm-control margin-btm-0">
              <label class="FormLabel margin-btm-6" for="contrasenaActual">Contraseña</label>
              <input  class="FormInput" matInput formControlName="password" [type]="hidePassword ? 'password' : 'text'" id="password"
                      autocomplete="new-password" [disabled]="isPasswordDisabled" (click)="showChangePasswordWarning()">
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="profileContainer-aditionalData">
      <div class="profileContainer-aditionalData-title">Información Adicional</div>
      <form (ngSubmit)="actualizarPerfilUsuario()" [formGroup]="userDetailsForm">
          <div class="FullForm-control margin-btm-0">
          <textarea matInput class="FormTextarea"  [placeholder]="descriptions" formControlName="descripcion"></textarea>
        </div>
      </form>
    </div>        
    <div class="FullForm-buttonsToRight">
      <button mat-button   class="secondary-button-custom size-48" type="button" (click)="activarEdicion(false)">Cancelar</button>
      <button  mat-raised-button appearance="outline"  class="primary-button-custom size-48"  (click)="actualizarPerfilUsuario()">Guardar Cambios</button>
  </div>

  </div>
</ng-container>
